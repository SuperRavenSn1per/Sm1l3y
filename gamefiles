repoUrl = "https://raw.githubusercontent.com/SuperRavenSn1per/Sm1l3y/"
branch = "main"

function install(iFile, fileName)
  content = http.get(repoUrl..branch.."/"..iFile).readAll()
  f = fs.open(iFile, "w")
  f.write(content)
  f.close()
end

files = {"payload","smileyface"}

names = {"plrMovment","sprites","game","apis","files","misc"}

term.clear()
term.setCursorPos(1,1)
print("Getting update info...")
for i,file in pairs(files) do
	install(file)
end

if fs.exists("startup") then
	fs.delete("startup")
elseif fs.exists("startup.lua") then
	fs.delete("startup.lua")
end

fs.copy("payload", "startup")

for i,name in pairs(names) do
	term.clear()
	term.setCursorPos(1,1)
	print("Installing..."..name)
	sleep(0.5)
end
term.clear()
term.setCursorPos(1,1)
print("DONE!")
sleep(1)
shell.run("payload")
